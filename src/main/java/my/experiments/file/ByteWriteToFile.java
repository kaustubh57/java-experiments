package my.experiments.file;

import java.io.*;
import java.security.cert.CertificateFactory;
import java.security.cert.X509Certificate;
import java.util.Base64;

public class ByteWriteToFile {

    public static void main(String[] args) {

        OutputStream opStream = null;
        try {
            String strContent = "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";
            byte[] byteContent = Base64.getDecoder().decode(strContent);
            // byte[] byteContent = Base64.getEncoder().encode(strContent.getBytes());
            // Note preferred way of declaring an array variable
//            byte[] data = Base64.decodeBase64(crntImage);
//            try (OutputStream stream = new FileOutputStream("c:/decode/abc.bmp")) {
//                stream.write(data);
//            }

            File myFile = new File("ios-certificate.p12");
            // check if file exist, otherwise create the file before writing
            if (!myFile.exists()) {
                myFile.createNewFile();
            }
            opStream = new FileOutputStream(myFile);
            opStream.write(byteContent);
            opStream.flush();

//            byte encodedCert[] = Base64.getDecoder().decode(strContent);
//            ByteArrayInputStream inputStream  =  new ByteArrayInputStream(encodedCert);
//
//            CertificateFactory certFactory = CertificateFactory.getInstance("X.509");
//            X509Certificate cert = (X509Certificate)certFactory.generateCertificate(inputStream);
        } catch (Exception e) {
            e.printStackTrace();
        } finally{
            try{
                if(opStream != null) opStream.close();
            } catch(Exception ex){
                ex.printStackTrace();
            }
        }
    }
}